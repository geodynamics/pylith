## /tools/common/cubit-10.2/bin/clarox
## Cubit Version 10.2
## Cubit Build 24
## Revised 12/15/2006 16:09:40 MST
## Running 06/18/2007 10:26:50 AM
## Command Options:
## -warning = On
## -information = On

# ----------------------------------------------------------------------
# Generate geometry
# ----------------------------------------------------------------------
playback 'geometry.jou'

# ----------------------------------------------------------------------
# Set discretization size
# ----------------------------------------------------------------------
surface all size 100

# ----------------------------------------------------------------------
# Generate the mesh
# ----------------------------------------------------------------------
surface all scheme tridelaunay
mesh surface all

# ----------------------------------------------------------------------
# Improve triangle quality with smoothing
# ----------------------------------------------------------------------
surface all smooth scheme condition number beta 1.05 cpu 2
smooth surface all

# ----------------------------------------------------------------------
# Create blocks for materials
# ----------------------------------------------------------------------
block 1 surface 2 3
block 1 name "elastic"

# ----------------------------------------------------------------------
# Create nodeset for fault
# ----------------------------------------------------------------------
group "fault" add node in fault_edge
nodeset 10 group fault
nodeset 10 name "fault"

# ----------------------------------------------------------------------
# Create nodeset for +x edge
# ----------------------------------------------------------------------
group "edge_xpos" add node in curve 3 
nodeset 11 group edge_xpos
nodeset 11 name "edge xpos"

# ----------------------------------------------------------------------
# Create nodeset for -x edge
# ----------------------------------------------------------------------
group "edge_xneg" add node in curve 1
nodeset 12 group edge_xneg
nodeset 12 name "edge xneg"

# ----------------------------------------------------------------------
# Create nodeset for +y edge
# ----------------------------------------------------------------------
group "edge_ypos" add node in curve 7
group "edge_ypos" add node in curve 8
nodeset 13 group edge_ypos
nodeset 13 name "edge ypos"

# ----------------------------------------------------------------------
# Create nodeset for -y edge
# ----------------------------------------------------------------------
group "edge_yneg" add node in curve 6
group "edge_yneg" add node in curve 9
nodeset 14 group edge_yneg
nodeset 14 name "edge yneg"

# ----------------------------------------------------------------------
# Export exodus file
# ----------------------------------------------------------------------
export mesh "box_tri3_100m.exo" dimension 2 overwrite
