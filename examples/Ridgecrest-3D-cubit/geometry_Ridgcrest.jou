## Cubit file for Ridgecrest (3d) strike-slip example for hackathon 2023##
## Evan Marschall and Zechao Zhuo ##
#############################
## CUBITCOREFORM 2023.4 ######

## Clear Space##
reset


## Import SI units
#{Units('si')}

#{faultDepth = 7.5*km}

### load in points ###
playback 'points.jou'

##Make curves to later make surfaces
create curve spline location vertex 4 5 6 7 8 9 10 11 2 
create curve spline location vertex 1 12 13 14 15 16 17 18 3 

create surface vertex 1 2 3 4

#project surface to make volume
sweep surface 1 perpendicular distance {faultDepth} switchside {faultDepth} keep

# move curves down and make fault surface 
Curve 1 2 copy move z -{faultDepth} 
create surface curve 12 19 10 1
create surface curve 8 2 15 20

#split the volume

webcut volume 2 with sheet surface 8
webcut volume 2 with sheet surface 9
webcut volume 5 with sheet surface 9

# make vertex points to split the fault surface
create vertex on curve 51 close_to vertex 5
create vertex on curve 51 close_to vertex 11
create vertex on curve 20 close_to vertex 12
create vertex on curve 48 close_to vertex 18

delete body 1 3 4
# Split surfaces
split surface 30 through vertex 5 53
split surface 26 through vertex 11 54
split surface 20 through vertex 12 55
split surface 28 through vertex 18 56


### imprint and merge ####
imprint all 
merge all
delete vertex all








