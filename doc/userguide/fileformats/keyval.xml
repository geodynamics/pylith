<?xml version="1.0"?>
<!DOCTYPE section PUBLIC "-//OASIS//DTD DocBook XML V4.4//EN"
  "http://www.oasis-open.org/docbook/xml/4.4/docbookx.dtd">
<section id="file_keyval">
  <title>xx.keyval</title>

  <para>
    The <filename>xx.keyval</filename> file specifies some simple
    parameters settings.
  </para>

  <!-- SECTION +++++++++++++++++++++++++++++++++++++++++++++++++++ -->
  <section>
    <title>Winkler forces</title>

    <para>
      Scaling factors can be applied to Windkler forces, permitting a
      quick and easy way to change the density or gravitational
      acceleration when Winkler forces are used to simulate
      gravity. Scaling factors for differential Winkler forces are
      applied across a slippery node interface. These factors provide
      a simple way of scaling the forces so that the fault remains
      sufficiently locked.
    </para>
  </section>

  <!-- SECTION +++++++++++++++++++++++++++++++++++++++++++++++++++ -->
  <section>
    <title>Quadrature order</title>

      <variablelist>
	<varlistentry>
	  <term><literal>Full</literal></term>
	  <listitem>
	    <para>
              Quadrature order that should give the exact element
              matrices when the elements are geometrically
              undistorted.
            </para>
	  </listitem>
	</varlistentry>
	<varlistentry>
	  <term><literal>Reduced</literal></term>
	  <listitem>
	    <para>
              Quadrature order that is one order less than full
              quadrature.
            </para>
	    <warning>
	      <para>Use with caution as reduced quadrature can lead to
	      numerical instabilities.</para>
	    </warning>
	  </listitem>
	</varlistentry>
	<varlistentry>
	  <term><literal>Reduced</literal></term>
	  <listitem>
	    <para>
              Uses Hughes' b-bar formulation to perform reduced
              quadrature on the dilatational parts of the
              strain-displacement matrix.  This can be useful in
              nearly-incompressible problems.
            </para>
	  </listitem>
	</varlistentry>
    </variablelist>
  </section>

  <!-- SECTION +++++++++++++++++++++++++++++++++++++++++++++++++++ -->
  <section>
    <title>Prestresses</title>

    <para>
      Gravitational prestresses can be computed automatically. In such
      cases, the elastic properties in the prestress calculation can
      be set to uniform values independent of the parameters for any
      of the material models. When gravity is being used and
      prestresses are not computed automatically, each prestress
      component can be scaled independently.
    </para>
  </section>

  <figure>
    <title>Format of <filename>xx.keyval</filename> files</title>
    <screen>
# Simple parameter values for various PyLith settings. Defaults are
# listed.
#
# Scaling factors applied to Winkler forces.
#
winklerScaleX = 1.0
winklerScaleY = 1.0
winklerScaleZ = 1.0
#
# Scaling factors applied to differential Winkler forces.
#
winklerSlipScaleX = 1.0
winklerSlipScaleY = 1.0
winklerSlipScaleZ = 1.0
#
# Stress integration and numerical computation of the tangent 
# material matrix.  Default values should be reasonable for most cases.
#
stressTolerance = 1.0e-12*Pa
minimumStrainPerturbation = 1.0e-7
initialStrainPerturbation = 1.0e-1
#
# Specify whether to use the solution from the previous time step as
# the starting guess for the elastic solution in the current time step.
#
usePreviousDisplacementFlag = 0
</screen>
  </figure>
<figure>
    <title>Format of <filename>xx.keyval</filename> files (cont.)</title>
<screen>
# Quadrature order for the problem.
#
quadratureOrder = "Full"
#
# Gravitational acceleration in each direction.
#
gravityX = 0.0*m/(s*s)
gravityY = 0.0*m/(s*s)
gravityZ = 0.0*m/(s*s)
#
# Factors controlling computation of prestresses.
#
prestressAutoCompute = False
prestressAutoChangeElasticProperties = False
prestressAutoComputePoisson = 0.49
prestressAutoComputeYoungs = 1.0e30*Pa
#
prestressScaleXx = 1.0
prestressScaleYy = 1.0
prestressScaleZz = 1.0
prestressScaleXy = 1.0
prestressScaleXz = 1.0
prestressScaleYz = 1.0
#
# Unit numbers used in Fortran code.
#
f77StandardInput = 5
f77StandardOutput = 6
f77FileInput = 10
f77AsciiOutput = 11
f77PlotOutput = 12
f77UcdOutput = 13
    </screen>
  </figure>

</section>
